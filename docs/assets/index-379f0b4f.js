var Ae=Object.defineProperty;var De=(n,e,t)=>e in n?Ae(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var S=(n,e,t)=>(De(n,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(i){if(i.ep)return;i.ep=!0;const l=t(i);fetch(i.href,l)}})();function O(){}function ve(n){return n()}function fe(){return Object.create(null)}function D(n){n.forEach(ve)}function $e(n){return typeof n=="function"}function K(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function Ue(n){return Object.keys(n).length===0}function ge(n){return n??""}const Be=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function g(n,e){n.appendChild(e)}function M(n,e,t){n.insertBefore(e,t||null)}function R(n){n.parentNode&&n.parentNode.removeChild(n)}function m(n){return document.createElement(n)}function xe(n){return document.createTextNode(n)}function x(){return xe(" ")}function ke(){return xe("")}function U(n,e,t,s){return n.addEventListener(e,t,s),()=>n.removeEventListener(e,t,s)}function Ce(n){return function(e){return e.preventDefault(),n.call(this,e)}}function _(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function te(n){return n===""?null:+n}function We(n){return Array.from(n.childNodes)}function P(n,e){n.value=e??""}let ue;function J(n){ue=n}const F=[],ne=[];let H=[];const le=[],Fe=Promise.resolve();let re=!1;function Pe(){re||(re=!0,Fe.then(Ee))}function oe(n){H.push(n)}function he(n){le.push(n)}const ie=new Set;let W=0;function Ee(){if(W!==0)return;const n=ue;do{try{for(;W<F.length;){const e=F[W];W++,J(e),He(e.$$)}}catch(e){throw F.length=0,W=0,e}for(J(null),F.length=0,W=0;ne.length;)ne.pop()();for(let e=0;e<H.length;e+=1){const t=H[e];ie.has(t)||(ie.add(t),t())}H.length=0}while(F.length);for(;le.length;)le.pop()();re=!1,ie.clear(),J(n)}function He(n){if(n.fragment!==null){n.update(),D(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(oe)}}function Ge(n){const e=[],t=[];H.forEach(s=>n.indexOf(s)===-1?e.push(s):t.push(s)),t.forEach(s=>s()),H=e}const ee=new Set;let B;function Re(){B={r:0,c:[],p:B}}function Ie(){B.r||D(B.c),B=B.p}function L(n,e){n&&n.i&&(ee.delete(n),n.i(e))}function A(n,e,t,s){if(n&&n.o){if(ee.has(n))return;ee.add(n),B.c.push(()=>{ee.delete(n),s&&(t&&n.d(1),s())}),n.o(e)}else s&&s()}function q(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function ze(n,e){n.d(1),e.delete(n.key)}function Ne(n,e){A(n,1,1,()=>{e.delete(n.key)})}function ae(n,e,t,s,i,l,u,r,o,a,c,h){let b=n.length,p=l.length,y=b;const k={};for(;y--;)k[n[y].key]=y;const C=[],I=new Map,v=new Map,j=[];for(y=p;y--;){const f=h(i,l,y),w=t(f);let E=u.get(w);E?s&&j.push(()=>E.p(f,e)):(E=a(w,f),E.c()),I.set(w,C[y]=E),w in k&&v.set(w,Math.abs(y-k[w]))}const d=new Set,$=new Set;function N(f){L(f,1),f.m(r,c),u.set(f.key,f),c=f.first,p--}for(;b&&p;){const f=C[p-1],w=n[b-1],E=f.key,X=w.key;f===w?(c=f.first,b--,p--):I.has(X)?!u.has(E)||d.has(E)?N(f):$.has(X)?b--:v.get(E)>v.get(X)?($.add(E),N(f)):(d.add(X),b--):(o(w,u),b--)}for(;b--;){const f=n[b];I.has(f.key)||o(f,u)}for(;p;)N(C[p-1]);return D(j),C}function de(n,e,t){const s=n.$$.props[e];s!==void 0&&(n.$$.bound[s]=t,t(n.$$.ctx[s]))}function Q(n){n&&n.c()}function G(n,e,t){const{fragment:s,after_update:i}=n.$$;s&&s.m(e,t),oe(()=>{const l=n.$$.on_mount.map(ve).filter($e);n.$$.on_destroy?n.$$.on_destroy.push(...l):D(l),n.$$.on_mount=[]}),i.forEach(oe)}function z(n,e){const t=n.$$;t.fragment!==null&&(Ge(t.after_update),D(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function qe(n,e){n.$$.dirty[0]===-1&&(F.push(n),Pe(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function V(n,e,t,s,i,l,u,r=[-1]){const o=ue;J(n);const a=n.$$={fragment:null,ctx:[],props:l,update:O,not_equal:i,bound:fe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:fe(),dirty:r,skip_bound:!1,root:e.target||o.$$.root};u&&u(a.root);let c=!1;if(a.ctx=t?t(n,e.props||{},(h,b,...p)=>{const y=p.length?p[0]:b;return a.ctx&&i(a.ctx[h],a.ctx[h]=y)&&(!a.skip_bound&&a.bound[h]&&a.bound[h](y),c&&qe(n,h)),b}):[],a.update(),c=!0,D(a.before_update),a.fragment=s?s(a.ctx):!1,e.target){if(e.hydrate){const h=We(e.target);a.fragment&&a.fragment.l(h),h.forEach(R)}else a.fragment&&a.fragment.c();e.intro&&L(n.$$.fragment),G(n,e.target,e.anchor),Ee()}J(o)}class Z{constructor(){S(this,"$$");S(this,"$$set")}$destroy(){z(this,1),this.$destroy=O}$on(e,t){if(!$e(t))return O;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(t),()=>{const i=s.indexOf(t);i!==-1&&s.splice(i,1)}}$set(e){this.$$set&&!Ue(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ke="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ke);class T{eval(e){return!0}toString(){return""}getSignals(){return new Set}}class Ve extends T{constructor(t){super();S(this,"subclause");this.subclause=t}eval(t){return this.subclause===void 0?!1:!this.subclause.eval(t)}toString(){return this.subclause===void 0?"-":`-${this.subclause.toString()}`}getSignals(){return this.subclause.getSignals()}}class se extends T{constructor(t){super();S(this,"subclauses");this.subclauses=[];for(const s of t)s instanceof se?this.subclauses.push(...s.subclauses):this.subclauses.push(s)}eval(t){return this.subclauses.every(s=>s.eval(t))}toString(){return`(${this.subclauses.map(t=>t.toString()).join(" ")})`}getSignals(){const t=new Set;for(const s of this.subclauses)s.getSignals().forEach(i=>t.add(i));return t}}class ce extends T{constructor(t){super();S(this,"subclauses");this.subclauses=[];for(const s of t)s instanceof ce?this.subclauses.push(...s.subclauses):this.subclauses=t}eval(t){return this.subclauses.some(s=>s.eval(t))}toString(){return`[${this.subclauses.map(t=>t.toString()).join(" ")}]`}getSignals(){const t=new Set;for(const s of this.subclauses)s.getSignals().forEach(i=>t.add(i));return t}}class pe extends T{constructor(t,s=0,i=0){super();S(this,"signal");S(this,"position");S(this,"timeStep");this.signal=t,this.position=s,this.timeStep=i}eval(t){return t[this.position].has(this.signal)}toString(){return this.position===0?`${Symbol.keyFor(this.signal)}`:`${this.position}.${Symbol.keyFor(this.signal)}`}getSignals(){return new Set([this.signal])}}class Le{constructor(e){S(this,"cells");this.cells=Array(e).fill(0).map(()=>new Set)}getSize(){return this.cells.length}getNeighborhood(e,t,s){const i={};for(let l=t;l<=s;l++)e+l<0?i[l]=new Set:e+l>=this.cells.length?i[l]=new Set:i[l]=this.cells[e+l];return i}}const Oe=new RegExp(String.raw`(?<time>[+-]?\d+)\/`),Me=new RegExp(String.raw`(?<coord>[+-]?\d+)\.`),je=new RegExp(String.raw`(?<signal>[A-Za-z0-9_$']+)`),Ze=new RegExp(String.raw`(?<operator>[\(\)\[\]])|(${Oe.source})?(${Me.source})?(?<sign>[+-])?(${je.source})`,"g"),Je=new RegExp(String.raw`(${Oe.source})?(${Me.source})?(${je.source})`,"g");class Y extends Error{constructor(e){super(e),this.name="RuleParsingException"}}class Qe{constructor(e,t,s=1){S(this,"neighbor");S(this,"signal");S(this,"futureStep");this.neighbor=e,this.signal=t,this.futureStep=s}toString(){return this.futureStep===1?`${this.neighbor}.${Symbol.keyFor(this.signal)}`:`${this.neighbor}/${this.futureStep}.${Symbol.keyFor(this.signal)}`}}class Te{constructor(e,t){S(this,"condition");S(this,"outputs");this.condition=e,this.outputs=t}toString(){return`${this.condition.toString()}: ${this.outputs.map(e=>e.toString()).join(" ")}`}getOutputSignals(){const e=new Set;for(const t of this.outputs)e.add(t.signal);return e}getConditionSignals(){return this.condition.getSignals()}}class Xe{constructor(e){S(this,"rules");S(this,"minNeighbor");S(this,"maxNeighbor");S(this,"maxFutureDepth");this.rules=[],this.minNeighbor=0,this.maxNeighbor=0,this.maxFutureDepth=1;const t=[];for(let s of e.split(`
`)){const i=s.search(/\S|$/);if(s=s.replace(/#.*/,"").trim(),s.length===0)continue;let l,u;s.includes(":")?[l,u]=s.split(":"):u=s;let r,o;for(;t.length>0&&t[0].indent>=i;)t.shift();if(l){const a=this.parseCondition(l);t.length===0?r=a:r=new se([t[0].condition,a]),t.unshift({condition:r,indent:i})}else r=t[0].condition;u&&(o=this.parseOutputs(u),this.rules.push(new Te(r,o)))}}readConditionTokens(e){const t=e.shift();if(t===void 0)return new T;const s=[];if(t.operator!==void 0)switch(t.operator){case"(":for(;e[0].operator!==")";){if(e.length===0)throw new Y("Unbalanced parentheses in condition");s.push(this.readConditionTokens(e))}return e.shift(),s.length===1?s[0]:new se(s);case"[":for(;e[0].operator!=="]";){if(e.length===0)throw new Y("Unbalanced parentheses in condition");s.push(this.readConditionTokens(e))}return e.shift(),s.length===1?s[0]:new ce(s);default:throw new Y(`Unexpected operator ${t.operator}`)}else{const i=parseInt(t.time)||0,l=parseInt(t.coord)||0,u=Symbol.for(t.signal);return t.sign==="-"?new Ve(new pe(u,l,i)):new pe(u,l,i)}}parseCondition(e){const t=[];for(;;){const i=Ze.exec(e);if(i===null)break;t.push(i.groups)}const s=this.readConditionTokens(t);if(t.length>0)throw new Y("Unbalanced condition");return s}parseOutputs(e){var s,i,l;const t=[];for(;;){const u=Je.exec(e);if(u===null)break;const r=((s=u.groups)==null?void 0:s.time)||"1",o=((i=u.groups)==null?void 0:i.coord)||"0",a=(l=u.groups)==null?void 0:l.signal;t.push(new Qe(parseInt(o),Symbol.for(a),parseInt(r)))}return t}makeDiagram(e,t){const s=e.getSize(),i=[e];for(let l=0;l<t;l++)i.push(new Le(s));for(let l=0;l<t;l++){const u=i[l];for(let r=0;r<s;r++){const o=u.getNeighborhood(r,this.minNeighbor,this.maxNeighbor);for(const a of this.rules)a.condition.eval(o)&&a.outputs.forEach(c=>{const h=r+c.neighbor;l+c.futureStep<i.length&&0<=h&&h<s&&i[l+c.futureStep].cells[h].add(c.signal)})}}return i}getSignals(){const e=new Set;for(const t of this.rules)t.getConditionSignals().forEach(s=>e.add(s)),t.getOutputSignals().forEach(s=>e.add(s));return e}toString(){return this.rules.map(e=>e.toString()).join(`
`)}}const Ye=`# Fischer's prime numbers sieve cellular automaton

Init:
  Wall
  2/0.Right
  0/0.Half
Wall:
  Wall
Right:
  -Half: 1.Right
  Half: 1.Wall 2/0.Left 1.Half
Half:
  -Right: 3/1.Half
Left:
  -Wall: -1.Left
  Wall: 1.Right
  0/0.BounceLeft
BounceLeft:
  0/0.Mark
  -Wall: -1.BounceLeft
  +Wall: +1.BounceRight
BounceRight:
  -Wall: 1.BounceRight
  Wall: -1.BounceLeft
Mark:
  -1.Mark
`;function me(n,e,t){const s=n.slice();return s[4]=e[t],s}function _e(n,e){let t,s;return{key:n,first:null,c(){t=m("div"),_(t,"class",s=ge(`st-${e[4]}`)+" svelte-1rddhiy"),this.first=t},m(i,l){M(i,t,l)},p(i,l){e=i,l&2&&s!==(s=ge(`st-${e[4]}`)+" svelte-1rddhiy")&&_(t,"class",s)},d(i){i&&R(t)}}}function et(n){let e,t=[],s=new Map,i,l=q(n[1]);const u=r=>r[4];for(let r=0;r<l.length;r+=1){let o=me(n,l,r),a=u(o);s.set(a,t[r]=_e(a,o))}return{c(){e=m("div");for(let r=0;r<t.length;r+=1)t[r].c();_(e,"class","cell svelte-1rddhiy"),_(e,"data-tooltip",i=n[0].length>0?n[0].join(" "):void 0)},m(r,o){M(r,e,o);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,null)},p(r,[o]){o&2&&(l=q(r[1]),t=ae(t,o,u,1,r,l,s,e,ze,_e,null,me)),o&1&&i!==(i=r[0].length>0?r[0].join(" "):void 0)&&_(e,"data-tooltip",i)},i:O,o:O,d(r){r&&R(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function tt(n,e,t){let{cell:s}=e,{signalIndexes:i}=e,l,u;return n.$$set=r=>{"cell"in r&&t(2,s=r.cell),"signalIndexes"in r&&t(3,i=r.signalIndexes)},n.$$.update=()=>{if(n.$$.dirty&15){t(0,l=[]),t(1,u=[]);for(const r of s){const o=i.get(r);o!==void 0&&u.push(o);const a=Symbol.keyFor(r);a!==void 0&&l.push(a)}}},[l,u,s,i]}class nt extends Z{constructor(e){super(),V(this,e,tt,et,K,{cell:2,signalIndexes:3})}}function be(n,e,t){const s=n.slice();return s[2]=e[t],s[4]=t,s}function we(n,e){let t,s,i;return s=new nt({props:{cell:e[2],signalIndexes:e[1]}}),{key:n,first:null,c(){t=ke(),Q(s.$$.fragment),this.first=t},m(l,u){M(l,t,u),G(s,l,u),i=!0},p(l,u){e=l;const r={};u&1&&(r.cell=e[2]),u&2&&(r.signalIndexes=e[1]),s.$set(r)},i(l){i||(L(s.$$.fragment,l),i=!0)},o(l){A(s.$$.fragment,l),i=!1},d(l){l&&R(t),z(s,l)}}}function st(n){let e,t=[],s=new Map,i,l=q(n[0].cells);const u=r=>r[4];for(let r=0;r<l.length;r+=1){let o=be(n,l,r),a=u(o);s.set(a,t[r]=we(a,o))}return{c(){e=m("div");for(let r=0;r<t.length;r+=1)t[r].c();_(e,"class","row svelte-ac40fi")},m(r,o){M(r,e,o);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,null);i=!0},p(r,[o]){o&3&&(l=q(r[0].cells),Re(),t=ae(t,o,u,1,r,l,s,e,Ne,we,null,be),Ie())},i(r){if(!i){for(let o=0;o<l.length;o+=1)L(t[o]);i=!0}},o(r){for(let o=0;o<t.length;o+=1)A(t[o]);i=!1},d(r){r&&R(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function it(n,e,t){let{row:s}=e,{signalIndexes:i}=e;return n.$$set=l=>{"row"in l&&t(0,s=l.row),"signalIndexes"in l&&t(1,i=l.signalIndexes)},[s,i]}class lt extends Z{constructor(e){super(),V(this,e,it,st,K,{row:0,signalIndexes:1})}}const{Map:rt}=Be;function Se(n,e,t){const s=n.slice();return s[6]=e[t],s[8]=t,s}function ye(n,e){let t,s,i;return s=new lt({props:{row:e[6],signalIndexes:e[1]}}),{key:n,first:null,c(){t=ke(),Q(s.$$.fragment),this.first=t},m(l,u){M(l,t,u),G(s,l,u),i=!0},p(l,u){e=l;const r={};u&1&&(r.row=e[6]),u&2&&(r.signalIndexes=e[1]),s.$set(r)},i(l){i||(L(s.$$.fragment,l),i=!0)},o(l){A(s.$$.fragment,l),i=!1},d(l){l&&R(t),z(s,l)}}}function ot(n){let e,t=[],s=new rt,i,l=q(n[0]);const u=r=>r[8];for(let r=0;r<l.length;r+=1){let o=Se(n,l,r),a=u(o);s.set(a,t[r]=ye(a,o))}return{c(){e=m("div");for(let r=0;r<t.length;r+=1)t[r].c();_(e,"class","diagram svelte-1vfoc7f")},m(r,o){M(r,e,o);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,null);i=!0},p(r,[o]){o&3&&(l=q(r[0]),Re(),t=ae(t,o,u,1,r,l,s,e,Ne,ye,null,Se),Ie())},i(r){if(!i){for(let o=0;o<l.length;o+=1)L(t[o]);i=!0}},o(r){for(let o=0;o<t.length;o+=1)A(t[o]);i=!1},d(r){r&&R(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function ut(n,e,t){let{automaton:s}=e,{settings:i}=e,l,u,r,o;return n.$$set=a=>{"automaton"in a&&t(2,s=a.automaton),"settings"in a&&t(3,i=a.settings)},n.$$.update=()=>{n.$$.dirty&29&&(t(4,l=new Le(i.nbCells)),l.cells[0].add(Symbol.for("Init")),t(0,u=s.makeDiagram(l,i.nbSteps)),i.timeGoesUp&&u.reverse()),n.$$.dirty&38&&(t(5,r=[...s.getSignals()]),t(1,o=new Map),r.forEach((a,c)=>o.set(a,c)))},[u,o,s,i,l,r]}class at extends Z{constructor(e){super(),V(this,e,ut,ot,K,{automaton:2,settings:3})}}function ct(n){let e,t,s,i,l,u,r,o,a;return{c(){e=m("div"),t=m("h2"),t.textContent="Rules",s=x(),i=m("form"),l=m("textarea"),u=x(),r=m("button"),r.textContent="Update",_(l,"class","rulebox svelte-ygspja"),_(r,"type","submit"),_(e,"class","container")},m(c,h){M(c,e,h),g(e,t),g(e,s),g(e,i),g(i,l),P(l,n[0]),g(i,u),g(i,r),o||(a=[U(l,"input",n[3]),U(i,"submit",Ce(n[1]))],o=!0)},p(c,[h]){h&1&&P(l,c[0])},i:O,o:O,d(c){c&&R(e),o=!1,D(a)}}}function ft(n,e,t){let{rules:s}=e,i=s;function l(){t(2,s=i)}function u(){i=this.value,t(0,i)}return n.$$set=r=>{"rules"in r&&t(2,s=r.rules)},[i,l,s,u]}class gt extends Z{constructor(e){super(),V(this,e,ft,ct,K,{rules:2})}}function ht(n){let e,t,s,i,l,u,r,o,a,c,h,b,p,y,k,C,I,v,j,d,$,N;return{c(){e=m("div"),t=m("h2"),t.textContent="Settings",s=x(),i=m("form"),l=m("div"),u=m("span"),u.textContent="Number of cells",r=x(),o=m("input"),a=x(),c=m("div"),h=m("span"),h.textContent="Number of rows",b=x(),p=m("input"),y=x(),k=m("div"),C=m("span"),C.textContent="Time goes up",I=x(),v=m("input"),j=x(),d=m("button"),d.textContent="Update",_(o,"id","nbCells"),_(o,"type","number"),_(o,"class","svelte-188i2ve"),_(p,"id","nbSteps"),_(p,"type","number"),_(p,"class","svelte-188i2ve"),_(v,"id","timeGoesUp"),_(v,"type","checkbox"),_(d,"type","submit"),_(e,"class","container")},m(f,w){M(f,e,w),g(e,t),g(e,s),g(e,i),g(i,l),g(l,u),g(l,r),g(l,o),P(o,n[0]),g(i,a),g(i,c),g(c,h),g(c,b),g(c,p),P(p,n[1]),g(i,y),g(i,k),g(k,C),g(k,I),g(k,v),v.checked=n[2],g(i,j),g(i,d),$||(N=[U(o,"input",n[5]),U(p,"input",n[6]),U(v,"change",n[7]),U(i,"submit",Ce(n[3]))],$=!0)},p(f,[w]){w&1&&te(o.value)!==f[0]&&P(o,f[0]),w&2&&te(p.value)!==f[1]&&P(p,f[1]),w&4&&(v.checked=f[2])},i:O,o:O,d(f){f&&R(e),$=!1,D(N)}}}function dt(n,e,t){let{settings:s}=e,{nbCells:i,nbSteps:l,timeGoesUp:u}=s;function r(){t(4,s={nbCells:i,nbSteps:l,timeGoesUp:u})}function o(){i=te(this.value),t(0,i)}function a(){l=te(this.value),t(1,l)}function c(){u=this.checked,t(2,u)}return n.$$set=h=>{"settings"in h&&t(4,s=h.settings)},[i,l,u,r,s,o,a,c]}class pt extends Z{constructor(e){super(),V(this,e,dt,ht,K,{settings:4})}}function mt(n){let e,t,s,i,l,u,r,o,a,c,h,b,p,y,k;function C(d){n[3](d)}let I={};n[1]!==void 0&&(I.settings=n[1]),i=new pt({props:I}),ne.push(()=>de(i,"settings",C));function v(d){n[4](d)}let j={};return n[0]!==void 0&&(j.rules=n[0]),r=new gt({props:j}),ne.push(()=>de(r,"rules",v)),c=new at({props:{automaton:n[2],settings:n[1]}}),{c(){e=m("main"),t=m("h1"),t.textContent="Signal Automata",s=x(),Q(i.$$.fragment),u=x(),Q(r.$$.fragment),a=x(),Q(c.$$.fragment),h=x(),b=m("button"),b.textContent="Go",_(e,"class","container")},m(d,$){M(d,e,$),g(e,t),g(e,s),G(i,e,null),g(e,u),G(r,e,null),g(e,a),G(c,e,null),g(e,h),g(e,b),p=!0,y||(k=U(b,"click",n[5]),y=!0)},p(d,[$]){const N={};!l&&$&2&&(l=!0,N.settings=d[1],he(()=>l=!1)),i.$set(N);const f={};!o&&$&1&&(o=!0,f.rules=d[0],he(()=>o=!1)),r.$set(f);const w={};$&4&&(w.automaton=d[2]),$&2&&(w.settings=d[1]),c.$set(w)},i(d){p||(L(i.$$.fragment,d),L(r.$$.fragment,d),L(c.$$.fragment,d),p=!0)},o(d){A(i.$$.fragment,d),A(r.$$.fragment,d),A(c.$$.fragment,d),p=!1},d(d){d&&R(e),z(i),z(r),z(c),y=!1,k()}}}function _t(n,e,t){let s={nbCells:40,nbSteps:60,timeGoesUp:!0},i=Ye,l;function u(a){s=a,t(1,s)}function r(a){i=a,t(0,i)}const o=()=>console.log(s);return n.$$.update=()=>{n.$$.dirty&1&&t(2,l=new Xe(i))},[i,s,l,u,r,o]}class bt extends Z{constructor(e){super(),V(this,e,_t,mt,K,{})}}new bt({target:document.getElementById("app")});
